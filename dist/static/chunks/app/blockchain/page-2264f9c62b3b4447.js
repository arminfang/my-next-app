(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{4238:(e,r,n)=>{Promise.resolve().then(n.bind(n,3734))},3734:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>i});var l=n(7437),t=n(2265),s=n(1581),c=n(5948),o=n(9267);let u=()=>{let e=(0,t.useRef)(c.y()),r=(0,t.useRef)(null);return console.log("signer",r),(0,t.useEffect)(()=>{null==window.ethereum?(console.log("MetaMask not installed; using read-only defaults"),e.current=c.y()):(e.current=new o.Q(window.ethereum),e.current.getSigner().then(e=>{console.log("res",e),r.current=e}).catch(e=>{console.log("err",e)}))},[]),{provider:e.current,signer:r.current}},a=e=>{let r=e.toString();if(r.length<=1)return r;let n=r.length-1;return"10^".concat(n)},i=()=>{let{provider:e,signer:r}=u();console.log("signer",r),console.log("provider",e);let[n,c]=(0,t.useState)(0),[o,i]=(0,t.useState)(null),[h,d]=(0,t.useState)(!1),g=(0,t.useRef)(null),b=()=>{null==e||e.getBlockNumber().then(e=>{console.log("get block number success: ",e),c(e)}).catch(e=>{console.log("err",e)})};return(0,t.useEffect)(()=>(b(),g.current=setInterval(b,2e4),()=>{g.current&&clearInterval(g.current)}),[]),(0,l.jsxs)("div",{className:"p-6 flex flex-col gap-4",children:[(0,l.jsx)("h2",{children:"Blockchain"}),(0,l.jsx)("button",{onClick:b,className:"btn-primary",children:"Get Block Count"}),(0,l.jsxs)("h3",{children:["Current block number is:"," ",(0,l.jsx)("span",{className:"font-bold text-yellow-600",children:n})]}),(0,l.jsx)("button",{onClick:()=>{console.log("provider",e),null==e||e.getBalance(r.address).then(e=>{console.log("get balance success: ",a(e)),i(e)})},className:"btn-primary",children:"Get Balance"}),(0,l.jsxs)("h3",{children:["current Balance is: ",o]}),(0,l.jsxs)("h3",{children:["parseEther: Convert user-provided strings in ether to wei for a bigint value ",(0,l.jsx)("br",{}),'eth = parseEther("1.0")ï¼š',a((0,s.fi)("1.0"))]}),(0,l.jsx)("button",{onClick:()=>{d(e=>!e)},className:"btn-primary",children:"Re-Render"})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[501,130,215,744],()=>r(4238)),_N_E=e.O()}]);